"use strict";(self.webpackChunkwebbook=self.webpackChunkwebbook||[]).push([["865"],{872:function(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>o,frontMatter:()=>s,metadata:()=>l,toc:()=>d});var l=t(6660),r=t(7259),i=t(5511);let s={title:"\u8272\u5F69\u53D6\u6A23",description:"\u5F71\u50CF\u8A18\u9304\u984F\u8272\u7684\u8CC7\u6599\u5E03\u5C40",authors:"yhchen",tags:["streaming"],date:new Date("2025-12-10T15:51:01.000Z")},a,c={authorsImageUrls:[void 0]},d=[{value:"Pixel Format",id:"pixel-format",level:2},{value:"RGB",id:"rgb",level:3},{value:"YUV (YCbCr)",id:"yuv-ycbcr",level:3},{value:"4:2:0 \u8207 4:2:2",id:"420-\u8207-422",level:3},{value:"Planar \u8207 Packed",id:"planar-\u8207-packed",level:2}];function h(e){let n={code:"code",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"RGB \u8207 YUV420 \u662F\u5F71\u50CF\u8CC7\u6599\u6700\u5E38\u898B\u7684 Pixel Format\u3002RGB \u6BCF\u500B\u50CF\u7D20\u5177\u5099\u5B8C\u6574\u4E09\u901A\u9053\uFF1BYUV420 \u5247\u628A\u5F71\u50CF\u62C6\u6210\u4EAE\u5EA6\u8207\u8272\u5EA6\uFF0C\u4E26\u4EE5 4:2:0 \u5B50\u53D6\u6A23\u964D\u4F4E\u8272\u5EA6\u89E3\u6790\u5EA6\u3002\u9019\u7A2E\u8A2D\u8A08\u80FD\u5728\u7DAD\u6301\u8996\u89BA\u54C1\u8CEA\u7684\u524D\u63D0\u4E0B\uFF0C\u6E1B\u5C11\u81F3\u5C11\u4E00\u534A\u4EE5\u4E0A\u5F71\u50CF\u8CC7\u6599\u91CF\uFF0C\u662F\u6240\u6709\u73FE\u4EE3\u7DE8\u78BC\u5668\u8207\u4E32\u6D41\u5354\u5B9A\u7684\u57FA\u790E\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"pixel-format",children:"Pixel Format"}),"\n",(0,r.jsx)(n.p,{children:"Pixel Format \u6307\u5F71\u50CF\u5728\u8A18\u61B6\u9AD4\u4E2D\u7684\u5177\u9AD4\u7DE8\u78BC\u65B9\u5F0F\uFF0C\u5305\u62EC\u901A\u9053\u7D44\u6210\u3001\u4F4D\u5143\u6DF1\u5EA6\u8207\u8CC7\u6599\u6392\u5217\u9806\u5E8F\u3002RGB \u76F4\u63A5\u8A18\u9304\u7D05\u3001\u7DA0\u3001\u85CD\u4E09\u901A\u9053\u5F37\u5EA6\uFF0C\u56E0\u6B64\u8CC7\u8A0A\u5B8C\u6574\u4F46\u5BB9\u91CF\u5927\u3002YUV \u985E\u683C\u5F0F\uFF08\u66F4\u7CBE\u78BA\u70BA YCbCr\uFF09\u5247\u5C07\u5F71\u50CF\u62C6\u6210\u4EAE\u5EA6 Y \u548C\u5169\u500B\u8272\u5EA6 Cb\u3001Cr\uFF0C\u70BA\u5F8C\u7E8C\u7684\u5B50\u53D6\u6A23\u8207\u58D3\u7E2E\u5960\u5B9A\u7D50\u69CB\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"rgb",children:"RGB"}),"\n",(0,r.jsx)(n.p,{children:"\u6BCF\u500B\u50CF\u7D20\u5305\u542B\u4E09\u500B\u901A\u9053\uFF1AR\u3001G\u3001B\u3002\u5728\u5927\u591A\u6578\u683C\u5F0F\u88E1\uFF0C\u4E09\u500B\u503C\u7684\u4F4D\u6DF1\u4E00\u81F4\uFF08\u4F8B\u5982\u5404 8 bit\uFF09\u3002\u7D50\u69CB\u4E0A\uFF0CRGB \u76F4\u63A5\u63CF\u8FF0\u7D05\u3001\u7DA0\u3001\u85CD\u7684\u7D44\u6210\uFF0C\u56E0\u6B64\uFF1A"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u9069\u5408\u986F\u793A\u5668\u8207 GPU \u8655\u7406\u3002"}),"\n",(0,r.jsx)(n.li,{children:"\u7A7A\u9593\u5927\uFF08\u6BCF\u50CF\u7D20 3 bytes \u6216\u66F4\u591A\uFF09\u3002"}),"\n",(0,r.jsx)(n.li,{children:"\u4E0D\u76F4\u63A5\u7BC0\u7701\u983B\u5BEC\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"yuv-ycbcr",children:"YUV (YCbCr)"}),"\n",(0,r.jsx)(n.p,{children:"YUV \u5C07\u5F71\u50CF\u62C6\u6210\u4EAE\u5EA6\u8207\u8272\u5EA6\u5F8C\uFF0C\u53EF\u4F9D\u9700\u6C42\u8ABF\u6574\u8272\u5EA6\u89E3\u6790\u5EA6\u3002\u5E38\u898B\u7684\u53D6\u6A23\u65B9\u5F0F\u662F 4:2:0"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u7B2C\u4E00\u500B\u6578\u5B57 4\uFF1A\u5BEC\u5EA6\u65B9\u5411\u7684\u57FA\u5E95\u53D6\u6A23\u55AE\u4F4D"}),"\n",(0,r.jsx)(n.li,{children:"\u7B2C\u4E8C\u500B\u6578\u5B57 2\uFF1A\u8272\u5EA6\u6C34\u5E73\u65B9\u5411\u7E2E\u534A"}),"\n",(0,r.jsx)(n.li,{children:"\u7B2C\u4E09\u500B\u6578\u5B57 0\uFF1A\u8272\u5EA6\u5782\u76F4\u65B9\u5411\u4E5F\u7E2E\u534A\uFF08\u8207\u4EAE\u5EA6\u76F8\u6BD4\uFF09"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u70BA\u7BC0\u7701\u983B\u5BEC\uFF0C\u5927\u591A\u6578YUV\u683C\u5F0F\u4F7F\u7528\u7684\u6BCF pixel bits \u90FD\u5C11\u65BC24\u4F4D\u5143\u3002YUV\u5728\u5C0D\u76F8\u7247\u6216\u5F71\u7247\u7DE8\u78BC\u6642\uFF0C\u8003\u616E\u5230\u4EBA\u985E\u7684\u611F\u77E5\u80FD\u529B\uFF0C\u5141\u8A31\u964D\u4F4E\u8272\u5EA6\u7684\u983B\u5BEC(\u56E0\u70BA\u4EBA\u985E\u5C0D\u4EAE\u5EA6\u6BD4\u8F03\u654F\u611F)\u3002"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsx)(n.tr,{children:(0,r.jsx)(n.th,{style:{textAlign:"center"},children:(0,r.jsx)(n.img,{alt:"Pixel_fmt",src:t(1708).A+"",width:"567",height:"474"})})})}),(0,r.jsx)(n.tbody,{children:(0,r.jsx)(n.tr,{children:(0,r.jsxs)(n.td,{style:{textAlign:"center"},children:["\u4F7F\u7528 ",(0,r.jsx)(n.code,{children:"ffmpeg -pix_fmts"})," \u5217\u51FAPixel Format"]})})})]}),"\n",(0,r.jsx)(n.h3,{id:"420-\u8207-422",children:"4:2:0 \u8207 4:2:2"}),"\n",(0,r.jsx)(n.p,{children:"4:2:0 \u7684\u91CD\u9EDE\u5728\u65BC\u964D\u4F4E\u8272\u5EA6\u89E3\u6790\u5EA6\u3002\u4EAE\u5EA6\u7DAD\u6301\u9010\u50CF\u7D20\u4E00\u7B46\uFF0C\u8272\u5EA6\u6C34\u5E73\u8207\u5782\u76F4\u90FD\u7E2E\u70BA\u539F\u672C\u7684\u4E00\u534A\uFF0C\u4F7F\u8272\u5EA6\u8CC7\u6599\u50C5\u4F54\u4EAE\u5EA6\u7684\u56DB\u5206\u4E4B\u4E00\u3002\u4EE5 1920\xd71080 \u5F71\u50CF\u70BA\u4F8B\uFF0CY \u662F\u5B8C\u6574 1920\xd71080\uFF0C\u800C Cb/Cr \u53EA\u6709 960\xd7540\u3002\u9019\u7A2E\u505A\u6CD5\u7684\u8996\u89BA\u640D\u5931\u8F03\u5C0F\uFF0C\u537B\u80FD\u964D\u4F4E\u5927\u91CF\u8CC7\u6599\u91CF\u3002"}),"\n",(0,r.jsx)(n.p,{children:"4:2:2 \u4FDD\u7559\u8F03\u9AD8\u7684\u8272\u5EA6\u5BC6\u5EA6\uFF0C\u8272\u5EA6\u5728\u6C34\u5E73\u65B9\u5411\u7E2E\u534A\uFF0C\u4F46\u5782\u76F4\u65B9\u5411\u8207\u4EAE\u5EA6\u4E00\u81F4\u3002\u4EE5 1920\xd71080 \u70BA\u4F8B\uFF0CCb/Cr \u8B8A\u70BA 960\xd71080\u3002\u76F8\u8F03 4:2:0\uFF0C\u5B83\u63D0\u4F9B\u66F4\u7A69\u5B9A\u7684\u8272\u5F69\u908A\u7DE3\u8207\u8F03\u5C11\u8272\u968E\u7834\u88C2\uFF0C\u4F46\u8CC7\u6599\u91CF\u589E\u52A0\u7D04 1.5 \u500D\u3002\u6B64\u683C\u5F0F\u5E38\u898B\u65BC\u5EE3\u64AD\u3001\u651D\u5F71\u6A5F\u9304\u88FD\u8207\u9700\u8981\u9AD8\u8272\u5F69\u7CBE\u5EA6\u7684\u88FD\u4F5C\u6D41\u7A0B\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"planar-\u8207-packed",children:"Planar \u8207 Packed"}),"\n",(0,r.jsx)(n.p,{children:"\u901A\u5E38\u6703\u7528\u4F86\u8868\u793A\u8272\u5F69\u53D6\u6A23\u7684\u8CC7\u6599\u5982\u4F55\u88AB\u5B58\u653E\u5728\u8A18\u61B6\u9AD4"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Planar : \u6BCF\u500B\u901A\u9053\u5206\u958B"}),"\n",(0,r.jsx)(n.li,{children:"Packed : \u4E09\u500B\u6210\u5206\u653E\u5728\u4E00\u8D77"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u5982\u679C\u4F7F\u7528 1 \xd7 N \u8207 RGB\u683C\u5F0F\u4F86\u63CF\u8FF0\u5169\u7A2E\u5132\u5B58\u65B9\u6CD5\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:"// Planar \u683C\u5F0F\n[\n  [R1, R2, R3, R4, ...RN],\n  [G1, G2, G3, G4, ...GN],\n  [B1, B2, B3, B4, ...BN],\n]\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:"// Packed \u683C\u5F0F\n[ [R1,G1,B1],[R2,G2,B2],[R3,G3,B3], ...[RN,GN,BN] ]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Planar \u7684\u6982\u5FF5\u4E26\u4E0D\u9650\u5B9A\u901A\u9053\u9577\u5EA6\u4E00\u81F4\uFF0CRGB \u7684\u7531\u65BC R\u3001G\u3001B \u4E09\u500B\u8CC7\u6599\u7684\u5927\u5C0F\u76F8\u540C\uFF0CPlanar \u770B\u8D77\u4F86\u6703\u7B49\u9577\u7684\uFF0C\u4F46\u662F\u63DB\u7B97\u5230 YUV420P \u7684\u60C5\u6CC1\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:"// Planar\n[\n  [52, 55, 61, 66],\n  [128],\n  [128]\n]\n\n// Packed\n[ [52, 55, 61, 66, 128, 128]... ]\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u56E0\u70BA Cb \u8207 Cr \u7684\u5206\u91CF\u662F Y \u7684\u56DB\u5206\u4E4B\u4E00( Weight * 0.5, Height * 0.5)\uFF0C\u6240\u4EE5\u770B\u8D77\u4F86\u4E0D\u6703\u50CF RGB \u90A3\u6A23\u4E09\u500B\u901A\u9053\u7684\u9577\u5EA6\u662F\u7B49\u9577\u7684\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["Planar \u5728\u8A18\u61B6\u9AD4\u88E1\u6703\u662F\u4E09\u6BB5\u6216\u66F4\u591A\u6BB5\u7368\u7ACB\u7684\u5E73\u9762\uFF1A",(0,r.jsx)(n.code,{children:"YYYY... ,CbCb... ,CrCr..."})]}),"\n",(0,r.jsx)(n.p,{children:"\u4EAE\u5EA6\u3001\u8272\u5EA6\u8CC7\u6599\u5728\u908F\u8F2F\u4E0A\u5B8C\u5168\u5206\u96E2\u3002\u9019\u5C0E\u81F4\u4EAE\u5EA6\u8207\u8272\u5EA6\u53EF\u4EE5\u7368\u7ACB\u8655\u7406\uFF0C\u4E14\u540C\u4E00\u901A\u9053\u9023\u7E8C\u6392\u5217\uFF0C\u4F7F\u6FFE\u6CE2\u3001\u7E2E\u653E\u3001\u6372\u7A4D\u7B49\u8A08\u7B97\u66F4\u597D\u5411\u91CF\u5316\u3002\u9019\u4E5F\u662F\u7DE8\u78BC\u5668\u9810\u671F\u7684\u8F38\u5165\u683C\u5F0F"}),"\n",(0,r.jsxs)(n.p,{children:["Packed \u628A\u6BCF\u500B\u50CF\u7D20\u7684\u6210\u5206\u64FA\u5728\u4E00\u8D77\uFF1A",(0,r.jsx)(n.code,{children:"YCbYCr, YCbYCr, YCbYCr ..."})]}),"\n",(0,r.jsx)(n.p,{children:"\u9019\u91DD\u5C0D\u55AE\u4E00\u50CF\u901F\u8655\u7406\u7684\u7B97\u6CD5\u5F88\u7C21\u55AE\uFF0C\u56E0\u70BA\u76F4\u63A5\u53D6\u51FA\u4E0B\u4E00\u500B\u5340\u6BB5\u7684\u8CC7\u6599\u5C31\u597D\uFF0C\u4E0D\u5FC5\u8A2A\u554F\u5176\u4ED6\u901A\u9053\u7684\u8CC7\u6599\u3002\u4F46\u4E0D\u5229\u65BC\u7DE8\u78BC\u5668\u8655\u7406\uFF0C\u56E0\u70BA\u58D3\u7E2E\u7B97\u6CD5\u5B8C\u5168\u4E0D\u540C\uFF0C\u4E14\u4E0D\u597D\u9032\u884C\u5411\u91CF\u5316\u3002"})]})}function o(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},1708:function(e,n,t){t.d(n,{A:()=>l});let l=t.p+"assets/images/20251210T155101539-1765382511396-9eaf68ff9d3770fe630ea6d4dbf961e2.png"},5511:function(e,n,t){t.d(n,{R:()=>s,x:()=>a});var l=t(6363);let r={},i=l.createContext(r);function s(e){let n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),l.createElement(i.Provider,{value:n},e.children)}},6660:function(e){e.exports=JSON.parse('{"permalink":"/blog/20251210T155101539","source":"@site/blog/20251210T155101539.md","title":"\u8272\u5F69\u53D6\u6A23","description":"\u5F71\u50CF\u8A18\u9304\u984F\u8272\u7684\u8CC7\u6599\u5E03\u5C40","date":"2025-12-10T15:51:01.000Z","tags":[{"inline":false,"label":"\u4E32\u6D41\u61C9\u7528\u958B\u767C","permalink":"/blog/tags/streaming","description":"\u4E32\u6D41\u61C9\u7528\u958B\u767C\uFF1A\u7DE8\u89E3\u78BC\u5668\u3001\u97F3\u8996\u983B\u591A\u5A92\u9AD4\u6846\u67B6\u3001\u4E32\u6D41\u958B\u767C\u3002"}],"readingTime":3.45,"hasTruncateMarker":true,"authors":[{"name":"yhchen","title":"software developer","url":"https://www.linkedin.com/in/yhchen-7a09a2245/","page":{"permalink":"/blog/authors/yhchen"},"socials":{"linkedin":"https://www.linkedin.com/in/yhchen-7a09a2245/","github":"https://github.com/silent4v"},"imageURL":"https://github.com/silent4v.png","key":"yhchen"}],"frontMatter":{"title":"\u8272\u5F69\u53D6\u6A23","description":"\u5F71\u50CF\u8A18\u9304\u984F\u8272\u7684\u8CC7\u6599\u5E03\u5C40","authors":"yhchen","tags":["streaming"],"date":"2025-12-10T15:51:01.000Z"},"unlisted":false,"lastUpdatedAt":1765384201000,"lastUpdatedBy":"yhchen","prevItem":{"title":"\u4F4D\u6DF1(Bit-depth) \u8207 HDR/SDR","permalink":"/blog/20251210T155103039"},"nextItem":{"title":"\u97F3\u8996\u983B\u57FA\u672C\u8655\u7406\u6D41\u7A0B","permalink":"/blog/20251208T000000001"}}')}}]);